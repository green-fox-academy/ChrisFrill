<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/css/style2.css">
</head>
<body>
<div>
    <div id="title">
        <a href='/webshop'><span>Santa's Fearsome Unicorn Farm</span></a>
        <div class="search">
            <form action="/search" method="POST">
                <input type="search" name="q" aria-label="Search through site content">
                <input type="submit" value="Search">
            </form>
        </div>
        <div class="login" th:if="${username != null}">
            <span th:text="|Hi ${username} | + '!'"></span>
        </div>
        <div th:if="${username == null}" class="login">
            <button class="collapsible">Login</button>
            <div class="content">
                <form th:action="@{/login}" th:method="post">
                        <p  id="account_login">
                            Account login
                        </p>

                        <label for="username">Username</label>
                        <input type="text" id="username" th:name="username" autofocus required>

                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required>
                        <img class="show_pass" src="../img/show_pass.png" onclick="myFunction()"></span>


                        <input type="submit" value="Login">


                </form>
            </div>
        </div>
    </div>


</div>

<div id="navigation">
    <div onclick="location.href='/only-available'" class="button">
        <p>Only available</p>
    </div>

    <div onclick="location.href='/cheapest-first'" class="button">
        <p>Cheapest first</p>
    </div>

    <div onclick="location.href='/contains-nike '" class="button">
        <p>Contains Nike</p>
    </div>

    <div onclick="location.href='/average-stock'" class="button">
        <p>Average stock</p>
    </div>

    <div onclick="location.href='/most-expensive'" class="button">
        <p>Most expensive</p>
    </div>

</div>

<div id="webshop">
    <div id="items">
        <th:block th:each="item : ${shopItems}">
            <div class="shop_item">
                <div class="layer">
                    <div class="name">
                        <p th:text="${item.getName()}">Text</p>
                    </div>
                    <p th:text="${item.getDescription()}">Text</p>
                    <p class="shop_field">Price</p>
                    <p th:text="${item.getPrice()} + ' HUF'">Text</p>
                    <p class="shop_field">Quantity</p>
                    <p th:text="${item.getQuantity()}">Text</p>
                </div>
            </div>
        </th:block>
    </div>
</div>

<script>
    var coll = document.getElementsByClassName("collapsible");
    var i;

    for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function () {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.display === "block") {
                content.style.display = "none";
            } else {
                content.style.display = "block";
            }
        });
    }


</script>

<script>
    function myFunction() {
        var x = document.getElementById("password");
        if (x.type === "password") {
            x.type = "text";
        } else {
            x.type = "password";
        }
    }
</script>
</body>
</html>